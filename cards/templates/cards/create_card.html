{% extends 'cards/base.html' %}

{% block title %}{% if card %}Edit E-Card{% else %}Create E-Card{% endif %}{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center px-4 py-10">
    <div class="w-full max-w-3xl glassmorphism rounded-2xl p-8 shadow-lg">
        <h1 class="text-3xl font-bold text-center mb-6">{% if card %}Edit Your E-Card{% else %}Create Your E-Card{% endif %}</h1>
        <form method="post" enctype="multipart/form-data" class="space-y-6">
            {% csrf_token %}
            
            {% if form.non_field_errors %}
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    {% for error in form.non_field_errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Personal Information -->
                <div>
                    <label class="block text-sm font-medium mb-1">First Name</label>
                    {{ form.firstName }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Last Name</label>
                    {{ form.lastName }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Job Title</label>
                    {{ form.jobTitle }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Company</label>
                    {{ form.company }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Email</label>
                    {{ form.email }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Phone</label>
                    {{ form.phone }}
                </div>
                <div class="md:col-span-2">
                    <label class="block text-sm font-medium mb-1">Address</label>
                    {{ form.address }}
                </div>
                 <div>
                    <label class="block text-sm font-medium mb-1">Website</label>
                    {{ form.website }}
                </div>
                 <div>
                    <label class="block text-sm font-medium mb-1">Birthday</label>
                    {{ form.birthday }}
                </div>
                <div class="md:col-span-2">
                    <label class="block text-sm font-medium mb-1">Notes</label>
                    {{ form.notes }}
                </div>

                <!-- Social Media -->
                <h3 class="md:col-span-2 text-xl font-semibold mt-4">Social Media Links</h3>
                <div>
                    <label class="block text-sm font-medium mb-1">Facebook</label>
                    {{ form.facebook }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">WhatsApp</label>
                    {{ form.whatsapp }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">YouTube</label>
                    {{ form.youtube }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Instagram</label>
                    {{ form.instagram }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Twitter</label>
                    {{ form.twitter }}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">LinkedIn</label>
                    {{ form.linkedin }}
                </div>

                <!-- Customization -->
                <h3 class="md:col-span-2 text-xl font-semibold mt-4">Customization</h3>
                <div>
                    <label class="block text-sm font-medium mb-1">Avatar</label>
                    {{ form.avatar }}
                    {% if card.avatar %}
                        <p class="text-xs mt-1">Current: <a href="{{ card.avatar.url }}" target="_blank">{{ card.avatar.name }}</a></p>
                    {% endif %}
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Background Style</label>
                    {{ form.background_style }}
                </div>
            </div>

            <div class="flex justify-end mt-8">
                <button type="submit" class="accent-gradient text-white font-bold py-3 px-8 rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-300 ease-in-out">
                    {% if card %}Save Changes{% else %}Create Card{% endif %}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
